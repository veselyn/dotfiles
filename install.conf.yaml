- defaults:
    link:
      relink: true

- clean:
    - "~"
    - ~/.config

- link:
    ~/.config/asdf: config/asdf
    ~/.config/bat: config/bat
    ~/.config/git: config/git
    ~/.config/kitty: config/kitty
    ~/.config/ranger: config/ranger
    ~/.config/skhd: config/skhd
    ~/.config/tmux: config/tmux
    ~/.config/yabai: config/yabai
    ~/.config/zsh: config/zsh
    ~/.vim: vim
    ~/.zshenv: zshenv
    ~/bin: bin

- create:
    - ~/.cache/zsh
    - ~/.local/share/vim/backup
    - ~/.local/share/vim/swap
    - ~/.local/share/vim/undo
    - ~/.local/state/zsh
    - ~/source/private
    - ~/source/public
    - ~/source/work

- shell:
    - command: |-
        git submodule update --init --recursive
      description: Installing submodules

    - command: |-
        src=https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh
        /bin/bash -c "$(curl -fsSL $src)"
      description: Installing Homebrew
      stdin: true

    - command: |-
        src=https://github.com/tmux-plugins/tpm
        dest=~/.config/tmux/plugins/tpm
        rm -rf $dest
        git clone $src $dest
      description: Installing tpm

    - command: |-
        rm -f ~/.vim/autoload/plug.vim
        curl \
          https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim \
          -o ~/.vim/autoload/plug.vim
      description: Installing vim-plug
